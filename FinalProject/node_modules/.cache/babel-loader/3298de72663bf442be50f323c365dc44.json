{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Cyber\\\\WebstormProjects\\\\6112 Project\\\\6112 Project\\\\FinalProject\\\\src\\\\Chart2.js\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport { render } from '@testing-library/react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Chart2 extends Component {\n  constructor(props) {\n    super(props);\n    this.chartRef = /*#__PURE__*/React.createRef();\n  }\n\n  componentDidMount() {\n    const data = this.props;\n    const width = 1400;\n    const height = 600;\n    const rateType = \"Confirmed\";\n    const geoData = d3.json(\"custom.geo.json\");\n    const projection = d3.geoAlbersUsa().translate([width / 2, height / 2]).scale([1280]);\n    const path = d3.geoPath().projection(projection);\n    const accessToChartRef = d3.select(this.chartRef.current).append(\"SVG\");\n    let allStats = data.map(function (row, i) {\n      return {\n        Updated: row.Updated,\n        Country_Region: row.Country_Region,\n        Confirmed: row.Confirmed,\n        ConfirmedChange: row.ConfirmedChange,\n        Deaths: row.Deaths,\n        DeathsChange: row.DeathsChange\n      };\n    });\n    const dataParse = d3.utcParse(\"%m/%d/%Y\");\n    const startDate = dataParse(\"01/21/2020\");\n    const millisecondsPerDay = 24 * 60 * 60 * 1000;\n    var date = new Date(+startDate + millisecondsPerDay * 1);\n    const stats = allStats.filter(function (row, i) {\n      return +row.Updated === +date;\n    });\n    const valRange = [0, 5500000, 8500000];\n    const colormap = d3.scaleLinear().domain(valRange).range([\"blue\", \"#eeeeee\", \"red\"]);\n    accessToChartRef.append(\"g\").attr(\"class\", \"states\").attr(\"class\", \"state-borders\").selectAll(\"path\").enter().append(\"path\").attr(\"d\", path);\n    accessToChartRef.selectAll(\"path\").attr(\"fill\", function (d) {\n      const metrics = getStateMetrics(stats, d.properties.name);\n      if (metrics === undefined) return \"#ddd\";\n      const rate = getStateMetrics(stats, d.properties.name)[rateType];\n      return colormap(rate);\n    });\n\n    function getStateMetrics(stats, state_name) {\n      for (var i = 0; i < stats.length; i++) {\n        if (stats[i].Country_Region == state_name) {\n          return stats[i];\n        }\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: this.chartRef\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this)\n    /*<div>\r\n        <div ref={this.chartRef}></div>\r\n        <div id=\"slidecontainer\">\r\n            <div ref={this.sliderRef}/>\r\n            <h3>{this.state.slider}</h3>\r\n            <span id=\"date\"></span>\r\n        </div>\r\n    </div>*/\n    ;\n  }\n\n}\n\nexport default Chart2;\n/*\r\nconst accessToSliderRef = d3.select(this.sliderRef.current)\r\n    .append(\"input\")\r\n    .attr(\"id\", \"slider\")\r\n    .attr(\"type\", \"range\")\r\n    .attr(\"min\", 0)\r\n    .attr(\"max\", 50)\r\n    .attr(\"step\", 1)\r\n    .attr(\"value\", this.state.slider)\r\n    .attr(\"class\", \"slider\");*/","map":{"version":3,"sources":["C:/Users/Cyber/WebstormProjects/6112 Project/6112 Project/FinalProject/src/Chart2.js"],"names":["React","Component","d3","render","Chart2","constructor","props","chartRef","createRef","componentDidMount","data","width","height","rateType","geoData","json","projection","geoAlbersUsa","translate","scale","path","geoPath","accessToChartRef","select","current","append","allStats","map","row","i","Updated","Country_Region","Confirmed","ConfirmedChange","Deaths","DeathsChange","dataParse","utcParse","startDate","millisecondsPerDay","date","Date","stats","filter","valRange","colormap","scaleLinear","domain","range","attr","selectAll","enter","d","metrics","getStateMetrics","properties","name","undefined","rate","state_name","length"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport * as d3 from 'd3';\r\nimport { render } from '@testing-library/react';\r\n\r\nclass Chart2 extends Component {\r\n        constructor(props){\r\n        super(props)\r\n        this.chartRef = React.createRef();\r\n    }\r\n\r\n    componentDidMount () {\r\n        const data = this.props;\r\n\r\n        const width = 1400;\r\n        const height = 600;\r\n        const rateType = \"Confirmed\";\r\n\r\n        const geoData = d3.json(\"custom.geo.json\")\r\n\r\n        const projection = d3\r\n            .geoAlbersUsa()\r\n            .translate([width / 2, height / 2])\r\n            .scale([1280]);\r\n        const path = d3.geoPath().projection(projection)\r\n\r\n        const accessToChartRef = d3.select(this.chartRef.current)\r\n            .append(\"SVG\")\r\n\r\n        let allStats = data.map(function (row, i) {\r\n            return {\r\n                Updated: row.Updated,\r\n                Country_Region: row.Country_Region,\r\n                Confirmed: row.Confirmed,\r\n                ConfirmedChange: row.ConfirmedChange,\r\n                Deaths: row.Deaths,\r\n                DeathsChange: row.DeathsChange,\r\n            };\r\n        });\r\n\r\n        const dataParse = d3.utcParse(\"%m/%d/%Y\");\r\n        const startDate = dataParse(\"01/21/2020\");\r\n        const millisecondsPerDay = 24 * 60 * 60 * 1000;\r\n        var date = new Date(+startDate + millisecondsPerDay * 1);\r\n        const stats = allStats.filter(function (row, i) {\r\n            return + row.Updated === +date;\r\n        });\r\n\r\n        const valRange = [0, 5500000, 8500000];\r\n        const colormap = d3\r\n            .scaleLinear()\r\n            .domain(valRange)\r\n            .range([\"blue\", \"#eeeeee\", \"red\"]);\r\n\r\n        accessToChartRef\r\n            .append(\"g\")\r\n            .attr(\"class\", \"states\")\r\n            .attr(\"class\", \"state-borders\")\r\n            .selectAll(\"path\")\r\n            .enter()\r\n            .append(\"path\")\r\n            .attr(\"d\", path);\r\n\r\n        accessToChartRef.selectAll(\"path\").attr(\"fill\", function (d) {\r\n            const metrics = getStateMetrics(stats, d.properties.name);\r\n            if (metrics === undefined) return \"#ddd\";\r\n            const rate = getStateMetrics(stats, d.properties.name)[rateType];\r\n            return colormap(rate);\r\n        });\r\n\r\n        function getStateMetrics(stats, state_name) {\r\n            for (var i = 0; i < stats.length; i++) {\r\n                if (stats[i].Country_Region == state_name) {\r\n                    return stats[i];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div ref={this.chartRef}></div>\r\n            /*<div>\r\n                <div ref={this.chartRef}></div>\r\n                <div id=\"slidecontainer\">\r\n                    <div ref={this.sliderRef}/>\r\n                    <h3>{this.state.slider}</h3>\r\n                    <span id=\"date\"></span>\r\n                </div>\r\n            </div>*/\r\n        )\r\n    };\r\n\r\n}\r\n\r\nexport default Chart2;\r\n\r\n\r\n/*\r\nconst accessToSliderRef = d3.select(this.sliderRef.current)\r\n    .append(\"input\")\r\n    .attr(\"id\", \"slider\")\r\n    .attr(\"type\", \"range\")\r\n    .attr(\"min\", 0)\r\n    .attr(\"max\", 50)\r\n    .attr(\"step\", 1)\r\n    .attr(\"value\", this.state.slider)\r\n    .attr(\"class\", \"slider\");*/\r\n"]},"metadata":{},"sourceType":"module"}